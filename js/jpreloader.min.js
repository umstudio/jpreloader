!function(e){var t=new Array,n=new Array,i=function(){},o=0,r={splashVPos:"35%",loaderVPos:"75%",splashID:"#jpreContent",showSplash:!0,showPercentage:!0,debugMode:!1,splashFunction:function(){}},a=function(n){e(n).find("*:not(script)").each(function(){var n="";if(-1==e(this).css("background-image").indexOf("none")){if(n=e(this).css("background-image"),-1!=n.indexOf("url")){var i=n.match(/url\((.*?)\)/);n=i[1].replace(/\"/g,"")}}else"img"==e(this).get(0).nodeName.toLowerCase()&&"undefined"!=typeof e(this).attr("src")&&(n=e(this).attr("src"));n.length>0&&t.push(n)})},d=function(){for(var e=0;e<t.length;e++)s(t[e])},s=function(t){var i=new Image;e(i).load(function(){h()}).error(function(){n.push(e(this).attr("src")),h()}).attr("src",t)},h=function(){o++;var n=Math.round(o/t.length*100);if(e(jBar).stop().animate({width:n+"%"},500,"linear"),r.showPercentage&&e(jPer).text(n+"%"),o>=t.length){if(o=t.length,r.debugMode){p()}l()}},l=function(){e(jBar).stop().animate({width:"100%"},500,"linear",function(){e(jOverlay).fadeOut(800),setTimeout(function(){e(jOverlay).remove(),i()},800)})},p=function(){if(n.length>0){var e="ERROR - IMAGE FILES MISSING!!!\n\r";e+=n.length+" image files cound not be found. \n\r",e+="Please check your image paths and filenames:\n\r";for(var t=0;t<n.length;t++)e+="- "+n[t]+"\n\r";return!0}return!1},c=function(t){if(jOverlay=e("<div></div>").attr("id","jpreOverlay").css({position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9999999}).appendTo("body"),r.showSplash){jContent=e("<div></div>").attr("id","jpreSlide").appendTo(jOverlay);var n=e(window).width()-e(jContent).width();e(jContent).css({position:"absolute",top:r.splashVPos,left:Math.round(50/e(window).width()*n)+"%"}),e(jContent).html(e(r.splashID).wrap("<div/>").parent().html()),e(r.splashID).remove(),r.splashFunction()}jLoader=e("<div></div>").attr("id","jpreLoader").appendTo(jOverlay);var i=e(window).width()-e(jLoader).width();e(jLoader).css({position:"absolute",top:r.loaderVPos,left:Math.round(50/e(window).width()*i)+"%"}),jBar=e("<div></div>").attr("id","jpreBar").css({width:"0%",height:"100%"}).appendTo(jLoader),r.showPercentage&&(jPer=e("<div></div>").attr("id","jprePercentage").css({position:"relative",height:"100%"}).appendTo(jLoader).html("Loading..."))};e.fn.jpreLoader=function(t,n){return t&&e.extend(r,t),"function"==typeof n&&(i=n),c(this),a(this),d(),this}}(jQuery);